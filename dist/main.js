!function(t){var i={};function e(s){if(i[s])return i[s].exports;var h=i[s]={i:s,l:!1,exports:{}};return t[s].call(h.exports,h,h.exports,e),h.l=!0,h.exports}e.m=t,e.c=i,e.d=function(t,i,s){e.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:s})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,i){if(1&i&&(t=e(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(e.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var h in t)e.d(s,h,function(i){return t[i]}.bind(null,h));return s},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},e.p="",e(e.s=0)}([function(t,i,e){"use strict";e.r(i);class s{constructor(t){this.sortName="冒泡排序算法",this.animationDuration=400,this.xCoordFactor=50,this.yCoordFactor=50,this.fontSize=24,this.timeAnimation=new Date,this.canvas=t,this.ctx=this.canvas.getContext("2d"),this.ctx.font=`bold ${this.fontSize}px serif`,this.iMove={},this.jMove={},this.array=null}begin(){this.random(),this.draw(),this.sort()}random(){this.array=new Array;for(let t=0;t<8;t++)this.array.push(Math.floor(100*Math.random()))}sort(t=0,i=1,e=0){e!==this.array.length&&(t!==this.array.length&&i!==this.array.length-e?this.array[t]>this.array[i]?this._changeSort(t,i,e):this.sort(i,i+1,e):this.sort(0,1,++e))}draw(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);for(let t=0;t<this.array.length;t++)this.ctx.fillText(this.array[t],this.xCoordFactor,this.yCoordFactor*(t+1))}_changeSort(t,i,e){this.timeAnimation=new Date,this.iMove={x:this.xCoordFactor,y:this.yCoordFactor*(t+1),index:t,loop:e},this.jMove={x:this.xCoordFactor,y:this.yCoordFactor*(i+1),index:i,loop:e},window.requestAnimationFrame(()=>{this._step()})}_step(){if(new Date-this.timeAnimation<=this.animationDuration){let t=(new Date-this.timeAnimation)/this.animationDuration,i=Math.sin(Math.PI*t);this._drawStepI(i,t),this._drawStepJ(i,t),window.requestAnimationFrame(()=>{this._step()})}else{let t=this.array[this.jMove.index];this.array[this.jMove.index]=this.array[this.iMove.index],this.array[this.iMove.index]=t,this.draw(),this.sort(this.jMove.index,this.jMove.index+1,this.jMove.loop)}}_drawStepI(t,i){this.ctx.clearRect(this.iMove.x,this.iMove.y-this.fontSize,this.fontSize,this.fontSize),this.iMove.x=this.xCoordFactor+.5*this.xCoordFactor*t,this.iMove.y=this.yCoordFactor*(this.iMove.index+1)+this.yCoordFactor*(this.jMove.index-this.iMove.index)*i,this.ctx.fillText(this.array[this.iMove.index],this.iMove.x,this.iMove.y)}_drawStepJ(t,i){this.ctx.clearRect(this.jMove.x,this.jMove.y-this.fontSize,this.fontSize,this.fontSize),this.jMove.x=this.xCoordFactor+1.6*this.xCoordFactor*t,this.jMove.y=this.yCoordFactor*(this.jMove.index+1)-this.yCoordFactor*(this.jMove.index-this.iMove.index)*i,this.ctx.fillText(this.array[this.jMove.index],this.jMove.x,this.jMove.y)}}class h{constructor(t){this.sortName="快速排序算法",this.elementCount=12,this.yCoordStart=10,this.yCoordEnd=490,this.animationDuration=380,this.yCoordHeight=this.yCoordEnd-this.yCoordStart,this.canvas=t,this.ctx=this.canvas.getContext("2d"),this.array=null,this.itemWidth=this.canvas.width/this.elementCount/2,this.changeArray=[]}begin(){this.random(),this.draw(),this.sort(0,this.elementCount-1),this.drawSort(0)}random(){this.array=new Array;for(let t=0;t<this.elementCount;t++)this.array.push(Math.floor(100*Math.random()+1))}draw(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.ctx.fillStyle="#ccc";for(let t=0;t<this.elementCount;t++){let i=this.yCoordHeight*(this.array[t]/100);this.ctx.fillRect(this.itemWidth*t*2+this.itemWidth/2,this.yCoordEnd,this.itemWidth,-i)}}sort(t,i){if(t>=i)return;let e=t,s=i;for(;!(e>=s);){for(;s>e;s--){if(this.array[e]>this.array[s]){let t=this.array[e];this.array[e]=this.array[s],this.array[s]=t,this.changeArray.push({sourceIndex:e,targetIndex:s,snapshot:JSON.parse(JSON.stringify(this.array)),change:!0});break}this.changeArray.push({sourceIndex:e,targetIndex:s,snapshot:JSON.parse(JSON.stringify(this.array))})}for(;e<s;e++){if(this.array[e]>this.array[s]){let t=this.array[e];this.array[e]=this.array[s],this.array[s]=t,this.changeArray.push({sourceIndex:s,targetIndex:e,snapshot:JSON.parse(JSON.stringify(this.array)),change:!0});break}this.changeArray.push({sourceIndex:s,targetIndex:e,snapshot:JSON.parse(JSON.stringify(this.array))})}}this.sort(t,e),this.sort(e+1,i)}drawSort(t){let i=new Date,e=this.changeArray[t];e.change?this.drawChangeItem(e,i):this.drawUnChangeItem(e),t<this.changeArray.length-1?setTimeout(()=>{this.drawSort(++t)},this.animationDuration):setTimeout(()=>{this.draw()},this.animationDuration)}drawChangeItem(t,i){let e=(new Date-i)/this.animationDuration;if(!(e>1)){this.ctx.save(),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);for(let i=0;i<this.elementCount;i++){let s=this.yCoordHeight*(t.snapshot[i]/100);if(i===t.sourceIndex){this.ctx.fillStyle="#f25022",this.ctx.globalCompositeOperation="source-over";let i=this.itemWidth*t.sourceIndex*2+this.itemWidth/2+(t.targetIndex-t.sourceIndex)*this.itemWidth*2*e;this.ctx.fillRect(i,this.yCoordEnd,this.itemWidth,-s)}else if(i===t.targetIndex){this.ctx.fillStyle="#ffb901",this.ctx.globalCompositeOperation="source-over";let i=this.itemWidth*t.targetIndex*2+this.itemWidth/2+(t.sourceIndex-t.targetIndex)*this.itemWidth*2*e;this.ctx.fillRect(i,this.yCoordEnd,this.itemWidth,-s)}else this.ctx.fillStyle="#ccc",this.ctx.globalCompositeOperation="destination-over",this.ctx.fillRect(this.itemWidth*i*2+this.itemWidth/2,this.yCoordEnd,this.itemWidth,-s)}this.ctx.restore(),this.drawParenthesesLine(t),window.requestAnimationFrame(()=>{this.drawChangeItem(t,i)})}}drawUnChangeItem(t){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);for(let i=0;i<this.elementCount;i++){let e=this.yCoordHeight*(t.snapshot[i]/100);i===t.sourceIndex?(this.ctx.fillStyle="#f25022",this.ctx.fillRect(this.itemWidth*i*2+this.itemWidth/2,this.yCoordEnd,this.itemWidth,-e)):i===t.targetIndex?(this.ctx.fillStyle="#ffb901",this.ctx.fillRect(this.itemWidth*i*2+this.itemWidth/2,this.yCoordEnd,this.itemWidth,-e)):(this.ctx.fillStyle="#ccc",this.ctx.fillRect(this.itemWidth*i*2+this.itemWidth/2,this.yCoordEnd,this.itemWidth,-e))}this.drawParenthesesLine(t)}drawParenthesesLine(t){this.ctx.beginPath(),this.ctx.strokeStyle="#666",t.sourceIndex<=t.targetIndex?this.ctx.bezierCurveTo(this.itemWidth*t.sourceIndex*2+this.itemWidth/2,this.yCoordEnd+5,this.itemWidth*(t.sourceIndex+t.targetIndex)+this.itemWidth,this.yCoordEnd+60,this.itemWidth*t.targetIndex*2+this.itemWidth+ +this.itemWidth/2,this.yCoordEnd+5):this.ctx.bezierCurveTo(this.itemWidth*t.sourceIndex*2+this.itemWidth+this.itemWidth/2,this.yCoordEnd+5,this.itemWidth*(t.sourceIndex+t.targetIndex)+this.itemWidth,this.yCoordEnd+60,this.itemWidth*t.targetIndex*2+this.itemWidth/2,this.yCoordEnd+5),this.ctx.stroke()}}let r=new class{constructor(){this.sort=[h,s],this.sortIndex=0}start(){this.canvas&&this.destoryCanvas(),this.canvas=document.createElement("canvas"),this.canvas.width=Math.max(window.innerWidth,320),this.canvas.height=Math.max(window.innerHeight,568)-40,document.body.appendChild(this.canvas);let t=new this.sort[this.sortIndex](this.canvas);document.title=t.sortName,t.begin()}prior(){0===this.sortIndex?this.sortIndex=this.sort.length-1:this.sortIndex--,this.start()}next(){this.sortIndex===this.sort.length-1?this.sortIndex=0:this.sortIndex++,this.start()}destoryCanvas(){document.body.removeChild(this.canvas)}};document.querySelector("button:nth-of-type(1)").onclick=()=>{r.prior()},document.querySelector("button:nth-of-type(2)").onclick=()=>{r.start()},document.querySelector("button:nth-of-type(3)").onclick=()=>{r.next()},document.querySelector("button:nth-of-type(2)").click()}]);