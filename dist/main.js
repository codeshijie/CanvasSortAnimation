!function(t){var i={};function e(o){if(i[o])return i[o].exports;var r=i[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,e),r.l=!0,r.exports}e.m=t,e.c=i,e.d=function(t,i,o){e.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:o})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,i){if(1&i&&(t=e(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(e.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var r in t)e.d(o,r,function(i){return t[i]}.bind(null,r));return o},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},e.p="",e(e.s=0)}([function(t,i,e){"use strict";function o(t){this.canvas=t,this.ctx=this.canvas.getContext("2d"),this.fontSize=25,this.ctx.font="bold 24px serif",this.iMove={},this.jMove={},this.timeOut=500,this.timeAnimation=new Date,this.xCoord=50,this.yCoord=50}function r(t){this.canvas=document.createElement("canvas"),this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight,document.body.appendChild(this.canvas)}e.r(i),o.prototype.random=function(){this.array=new Array;for(let t=0;t<8;t++)this.array.push(Math.floor(100*Math.random()))},o.prototype.sort=function(t=0,i=1,e=0){e!==this.array.length&&(t!==this.array.length&&i!==this.array.length-e?this.array[t]>this.array[i]?this.changeSort(t,i,e):this.sort(i,i+1,e):this.sort(0,1,++e))},o.prototype.changeSort=function(t,i,e){this.timeAnimation=new Date,this.iMove={x:this.xCoord,y:this.yCoord*(t+1),index:t,loop:e},this.jMove={x:this.xCoord,y:this.yCoord*(i+1),index:i,loop:e},window.requestAnimationFrame(()=>{this.step()})},o.prototype.draw=function(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);for(let t=0;t<this.array.length;t++)this.ctx.fillText(this.array[t],this.xCoord,this.yCoord*(t+1))},o.prototype.step=function(){if(new Date-this.timeAnimation<=this.timeOut){let t=(new Date-this.timeAnimation)/this.timeOut,i=Math.sin(Math.PI*t);this.drawStepI(i,t),this.drawStepJ(i,t),window.requestAnimationFrame(()=>{this.step()})}else{let t=this.array[this.jMove.index];this.array[this.jMove.index]=this.array[this.iMove.index],this.array[this.iMove.index]=t,this.draw(),this.sort(this.jMove.index,this.jMove.index+1,this.jMove.loop)}},o.prototype.drawStepI=function(t,i){this.ctx.clearRect(this.iMove.x,this.iMove.y-this.fontSize,this.fontSize,this.fontSize),this.iMove.x=this.xCoord+.5*this.xCoord*t,this.iMove.y=this.yCoord*(this.iMove.index+1)+this.yCoord*(this.jMove.index-this.iMove.index)*i,this.ctx.fillText(this.array[this.iMove.index],this.iMove.x,this.iMove.y)},o.prototype.drawStepJ=function(t,i){this.ctx.clearRect(this.jMove.x,this.jMove.y-this.fontSize,this.fontSize,this.fontSize),this.jMove.x=this.xCoord+1.6*this.xCoord*t,this.jMove.y=this.yCoord*(this.jMove.index+1)-this.yCoord*(this.jMove.index-this.iMove.index)*i,this.ctx.fillText(this.array[this.jMove.index],this.jMove.x,this.jMove.y)},r.prototype.destory=function(){document.body.removeChild(this.canvas)},r.prototype.drawBubbleSort=function(){this.bubbleSort=new o(this.canvas),this.bubbleSort.random(),this.bubbleSort.draw(),this.bubbleSort.sort()};let n=new r;n.drawBubbleSort(),document.querySelector("button").onclick=()=>{n.destory(),(n=new r).drawBubbleSort()}}]);